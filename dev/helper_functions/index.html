<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Helper Functions · HighFrequencyCovariance.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">HighFrequencyCovariance.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">First Steps with HighFrequencyCovariance.jl</span><ul><li><a class="tocitem" href="../1_algorithms/">Algorithms</a></li><li><a class="tocitem" href="../2_data_structures/">Data Structures</a></li><li><a class="tocitem" href="../3_WritingCode/">Writing Code</a></li><li><a class="tocitem" href="../9_references/">References</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../functions/">Estimation Functions</a></li><li class="is-active"><a class="tocitem" href>Helper Functions</a><ul class="internal"><li><a class="tocitem" href="#Working-with-SortedDataFrame-structs"><span>Working with SortedDataFrame structs</span></a></li><li><a class="tocitem" href="#Working-with-CovarianceMatrix-structs"><span>Working with CovarianceMatrix structs</span></a></li><li><a class="tocitem" href="#Blocking-and-Regularisation-Functions"><span>Blocking and Regularisation Functions</span></a></li><li><a class="tocitem" href="#Monte-Carlo"><span>Monte Carlo</span></a></li><li><a class="tocitem" href="#For-getting-a-DataFrame-version-of-a-CovarianceMatrix-and-vice-versa."><span>For getting a DataFrame version of a CovarianceMatrix and vice versa.</span></a></li><li><a class="tocitem" href="#Blocking-and-Regularisation-Functions-2"><span>Blocking and Regularisation Functions</span></a></li><li><a class="tocitem" href="#Internal-Functions-potentially-of-use-for-advanced-users"><span>Internal Functions potentially of use for advanced users</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href>Helper Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Helper Functions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/master/docs/src/helper_functions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Helper-Functions"><a class="docs-heading-anchor" href="#Helper-Functions">Helper Functions</a><a id="Helper-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Helper-Functions" title="Permalink"></a></h1><ul><li><a href="#HighFrequencyCovariance.bnhls_2008"><code>HighFrequencyCovariance.bnhls_2008</code></a></li><li><a href="#HighFrequencyCovariance.fejer"><code>HighFrequencyCovariance.fejer</code></a></li><li><a href="#HighFrequencyCovariance.parzen"><code>HighFrequencyCovariance.parzen</code></a></li><li><a href="#HighFrequencyCovariance.quadratic_spectral"><code>HighFrequencyCovariance.quadratic_spectral</code></a></li><li><a href="#HighFrequencyCovariance.tukey_hanning"><code>HighFrequencyCovariance.tukey_hanning</code></a></li><li><a href="#HighFrequencyCovariance.HFC_Kernel"><code>HighFrequencyCovariance.HFC_Kernel</code></a></li><li><a href="#StochasticIntegrals.ItoSet"><code>StochasticIntegrals.ItoSet</code></a></li><li><a href="#HighFrequencyCovariance.blockwise_estimation"><code>HighFrequencyCovariance.blockwise_estimation</code></a></li><li><a href="#HighFrequencyCovariance.calculate_mean_abs_distance"><code>HighFrequencyCovariance.calculate_mean_abs_distance</code></a></li><li><a href="#HighFrequencyCovariance.dataframe_to_covariancematrix"><code>HighFrequencyCovariance.dataframe_to_covariancematrix</code></a></li><li><a href="#HighFrequencyCovariance.generate_random_path"><code>HighFrequencyCovariance.generate_random_path</code></a></li><li><a href="#HighFrequencyCovariance.get_all_refresh_times"><code>HighFrequencyCovariance.get_all_refresh_times</code></a></li><li><a href="#HighFrequencyCovariance.iterate_higham"><code>HighFrequencyCovariance.iterate_higham</code></a></li><li><a href="#HighFrequencyCovariance.latest_value"><code>HighFrequencyCovariance.latest_value</code></a></li><li><a href="#HighFrequencyCovariance.project_to_S"><code>HighFrequencyCovariance.project_to_S</code></a></li><li><a href="#HighFrequencyCovariance.project_to_U"><code>HighFrequencyCovariance.project_to_U</code></a></li><li><a href="#HighFrequencyCovariance.put_assets_into_blocks_by_trading_frequency"><code>HighFrequencyCovariance.put_assets_into_blocks_by_trading_frequency</code></a></li><li><a href="#HighFrequencyCovariance.random_value_in_interval"><code>HighFrequencyCovariance.random_value_in_interval</code></a></li><li><a href="#HighFrequencyCovariance.squared_frobenius"><code>HighFrequencyCovariance.squared_frobenius</code></a></li><li><a href="#HighFrequencyCovariance.squared_frobenius_distance"><code>HighFrequencyCovariance.squared_frobenius_distance</code></a></li><li><a href="#HighFrequencyCovariance.time_between_refreshes"><code>HighFrequencyCovariance.time_between_refreshes</code></a></li><li><a href="#StochasticIntegrals.to_dataframe"><code>StochasticIntegrals.to_dataframe</code></a></li></ul><h2 id="Working-with-SortedDataFrame-structs"><a class="docs-heading-anchor" href="#Working-with-SortedDataFrame-structs">Working with SortedDataFrame structs</a><a id="Working-with-SortedDataFrame-structs-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-SortedDataFrame-structs" title="Permalink"></a></h2><ul><li><a href="#HighFrequencyCovariance.bnhls_2008"><code>HighFrequencyCovariance.bnhls_2008</code></a></li><li><a href="#HighFrequencyCovariance.fejer"><code>HighFrequencyCovariance.fejer</code></a></li><li><a href="#HighFrequencyCovariance.parzen"><code>HighFrequencyCovariance.parzen</code></a></li><li><a href="#HighFrequencyCovariance.quadratic_spectral"><code>HighFrequencyCovariance.quadratic_spectral</code></a></li><li><a href="#HighFrequencyCovariance.tukey_hanning"><code>HighFrequencyCovariance.tukey_hanning</code></a></li><li><a href="../types/#HighFrequencyCovariance.CovarianceMatrix"><code>HighFrequencyCovariance.CovarianceMatrix</code></a></li><li><a href="#HighFrequencyCovariance.HFC_Kernel"><code>HighFrequencyCovariance.HFC_Kernel</code></a></li><li><a href="../types/#HighFrequencyCovariance.SortedDataFrame"><code>HighFrequencyCovariance.SortedDataFrame</code></a></li><li><a href="#StochasticIntegrals.ItoSet"><code>StochasticIntegrals.ItoSet</code></a></li><li><a href="#HighFrequencyCovariance.blockwise_estimation"><code>HighFrequencyCovariance.blockwise_estimation</code></a></li><li><a href="../functions/#HighFrequencyCovariance.bnhls_covariance"><code>HighFrequencyCovariance.bnhls_covariance</code></a></li><li><a href="#HighFrequencyCovariance.calculate_mean_abs_distance"><code>HighFrequencyCovariance.calculate_mean_abs_distance</code></a></li><li><a href="#HighFrequencyCovariance.dataframe_to_covariancematrix"><code>HighFrequencyCovariance.dataframe_to_covariancematrix</code></a></li><li><a href="../functions/#HighFrequencyCovariance.eigenvalue_clean"><code>HighFrequencyCovariance.eigenvalue_clean</code></a></li><li><a href="../functions/#HighFrequencyCovariance.estimate_covariance"><code>HighFrequencyCovariance.estimate_covariance</code></a></li><li><a href="../functions/#HighFrequencyCovariance.estimate_microstructure_noise"><code>HighFrequencyCovariance.estimate_microstructure_noise</code></a></li><li><a href="../functions/#HighFrequencyCovariance.estimate_volatility"><code>HighFrequencyCovariance.estimate_volatility</code></a></li><li><a href="#HighFrequencyCovariance.generate_random_path"><code>HighFrequencyCovariance.generate_random_path</code></a></li><li><a href="#HighFrequencyCovariance.get_all_refresh_times"><code>HighFrequencyCovariance.get_all_refresh_times</code></a></li><li><a href="../functions/#HighFrequencyCovariance.identity_regularisation"><code>HighFrequencyCovariance.identity_regularisation</code></a></li><li><a href="#HighFrequencyCovariance.iterate_higham"><code>HighFrequencyCovariance.iterate_higham</code></a></li><li><a href="#HighFrequencyCovariance.latest_value"><code>HighFrequencyCovariance.latest_value</code></a></li><li><a href="../functions/#HighFrequencyCovariance.nearest_correlation_matrix"><code>HighFrequencyCovariance.nearest_correlation_matrix</code></a></li><li><a href="../functions/#HighFrequencyCovariance.nearest_psd_matrix"><code>HighFrequencyCovariance.nearest_psd_matrix</code></a></li><li><a href="../functions/#HighFrequencyCovariance.preaveraged_covariance"><code>HighFrequencyCovariance.preaveraged_covariance</code></a></li><li><a href="#HighFrequencyCovariance.project_to_S"><code>HighFrequencyCovariance.project_to_S</code></a></li><li><a href="#HighFrequencyCovariance.project_to_U"><code>HighFrequencyCovariance.project_to_U</code></a></li><li><a href="#HighFrequencyCovariance.put_assets_into_blocks_by_trading_frequency"><code>HighFrequencyCovariance.put_assets_into_blocks_by_trading_frequency</code></a></li><li><a href="#HighFrequencyCovariance.random_value_in_interval"><code>HighFrequencyCovariance.random_value_in_interval</code></a></li><li><a href="../functions/#HighFrequencyCovariance.regularise"><code>HighFrequencyCovariance.regularise</code></a></li><li><a href="../functions/#HighFrequencyCovariance.simple_covariance"><code>HighFrequencyCovariance.simple_covariance</code></a></li><li><a href="../functions/#HighFrequencyCovariance.simple_volatility"><code>HighFrequencyCovariance.simple_volatility</code></a></li><li><a href="../functions/#HighFrequencyCovariance.spectral_covariance"><code>HighFrequencyCovariance.spectral_covariance</code></a></li><li><a href="#HighFrequencyCovariance.squared_frobenius"><code>HighFrequencyCovariance.squared_frobenius</code></a></li><li><a href="#HighFrequencyCovariance.squared_frobenius_distance"><code>HighFrequencyCovariance.squared_frobenius_distance</code></a></li><li><a href="#HighFrequencyCovariance.time_between_refreshes"><code>HighFrequencyCovariance.time_between_refreshes</code></a></li><li><a href="../functions/#HighFrequencyCovariance.two_scales_covariance"><code>HighFrequencyCovariance.two_scales_covariance</code></a></li><li><a href="../functions/#HighFrequencyCovariance.two_scales_volatility"><code>HighFrequencyCovariance.two_scales_volatility</code></a></li><li><a href="#StochasticIntegrals.to_dataframe"><code>StochasticIntegrals.to_dataframe</code></a></li></ul><h2 id="Working-with-CovarianceMatrix-structs"><a class="docs-heading-anchor" href="#Working-with-CovarianceMatrix-structs">Working with CovarianceMatrix structs</a><a id="Working-with-CovarianceMatrix-structs-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-CovarianceMatrix-structs" title="Permalink"></a></h2><ul><li><a href="#HighFrequencyCovariance.bnhls_2008"><code>HighFrequencyCovariance.bnhls_2008</code></a></li><li><a href="#HighFrequencyCovariance.fejer"><code>HighFrequencyCovariance.fejer</code></a></li><li><a href="#HighFrequencyCovariance.parzen"><code>HighFrequencyCovariance.parzen</code></a></li><li><a href="#HighFrequencyCovariance.quadratic_spectral"><code>HighFrequencyCovariance.quadratic_spectral</code></a></li><li><a href="#HighFrequencyCovariance.tukey_hanning"><code>HighFrequencyCovariance.tukey_hanning</code></a></li><li><a href="../types/#HighFrequencyCovariance.CovarianceMatrix"><code>HighFrequencyCovariance.CovarianceMatrix</code></a></li><li><a href="#HighFrequencyCovariance.HFC_Kernel"><code>HighFrequencyCovariance.HFC_Kernel</code></a></li><li><a href="../types/#HighFrequencyCovariance.SortedDataFrame"><code>HighFrequencyCovariance.SortedDataFrame</code></a></li><li><a href="#StochasticIntegrals.ItoSet"><code>StochasticIntegrals.ItoSet</code></a></li><li><a href="#HighFrequencyCovariance.blockwise_estimation"><code>HighFrequencyCovariance.blockwise_estimation</code></a></li><li><a href="../functions/#HighFrequencyCovariance.bnhls_covariance"><code>HighFrequencyCovariance.bnhls_covariance</code></a></li><li><a href="#HighFrequencyCovariance.calculate_mean_abs_distance"><code>HighFrequencyCovariance.calculate_mean_abs_distance</code></a></li><li><a href="#HighFrequencyCovariance.dataframe_to_covariancematrix"><code>HighFrequencyCovariance.dataframe_to_covariancematrix</code></a></li><li><a href="../functions/#HighFrequencyCovariance.eigenvalue_clean"><code>HighFrequencyCovariance.eigenvalue_clean</code></a></li><li><a href="../functions/#HighFrequencyCovariance.estimate_covariance"><code>HighFrequencyCovariance.estimate_covariance</code></a></li><li><a href="../functions/#HighFrequencyCovariance.estimate_microstructure_noise"><code>HighFrequencyCovariance.estimate_microstructure_noise</code></a></li><li><a href="../functions/#HighFrequencyCovariance.estimate_volatility"><code>HighFrequencyCovariance.estimate_volatility</code></a></li><li><a href="#HighFrequencyCovariance.generate_random_path"><code>HighFrequencyCovariance.generate_random_path</code></a></li><li><a href="#HighFrequencyCovariance.get_all_refresh_times"><code>HighFrequencyCovariance.get_all_refresh_times</code></a></li><li><a href="../functions/#HighFrequencyCovariance.identity_regularisation"><code>HighFrequencyCovariance.identity_regularisation</code></a></li><li><a href="#HighFrequencyCovariance.iterate_higham"><code>HighFrequencyCovariance.iterate_higham</code></a></li><li><a href="#HighFrequencyCovariance.latest_value"><code>HighFrequencyCovariance.latest_value</code></a></li><li><a href="../functions/#HighFrequencyCovariance.nearest_correlation_matrix"><code>HighFrequencyCovariance.nearest_correlation_matrix</code></a></li><li><a href="../functions/#HighFrequencyCovariance.nearest_psd_matrix"><code>HighFrequencyCovariance.nearest_psd_matrix</code></a></li><li><a href="../functions/#HighFrequencyCovariance.preaveraged_covariance"><code>HighFrequencyCovariance.preaveraged_covariance</code></a></li><li><a href="#HighFrequencyCovariance.project_to_S"><code>HighFrequencyCovariance.project_to_S</code></a></li><li><a href="#HighFrequencyCovariance.project_to_U"><code>HighFrequencyCovariance.project_to_U</code></a></li><li><a href="#HighFrequencyCovariance.put_assets_into_blocks_by_trading_frequency"><code>HighFrequencyCovariance.put_assets_into_blocks_by_trading_frequency</code></a></li><li><a href="#HighFrequencyCovariance.random_value_in_interval"><code>HighFrequencyCovariance.random_value_in_interval</code></a></li><li><a href="../functions/#HighFrequencyCovariance.regularise"><code>HighFrequencyCovariance.regularise</code></a></li><li><a href="../functions/#HighFrequencyCovariance.simple_covariance"><code>HighFrequencyCovariance.simple_covariance</code></a></li><li><a href="../functions/#HighFrequencyCovariance.simple_volatility"><code>HighFrequencyCovariance.simple_volatility</code></a></li><li><a href="../functions/#HighFrequencyCovariance.spectral_covariance"><code>HighFrequencyCovariance.spectral_covariance</code></a></li><li><a href="#HighFrequencyCovariance.squared_frobenius"><code>HighFrequencyCovariance.squared_frobenius</code></a></li><li><a href="#HighFrequencyCovariance.squared_frobenius_distance"><code>HighFrequencyCovariance.squared_frobenius_distance</code></a></li><li><a href="#HighFrequencyCovariance.time_between_refreshes"><code>HighFrequencyCovariance.time_between_refreshes</code></a></li><li><a href="../functions/#HighFrequencyCovariance.two_scales_covariance"><code>HighFrequencyCovariance.two_scales_covariance</code></a></li><li><a href="../functions/#HighFrequencyCovariance.two_scales_volatility"><code>HighFrequencyCovariance.two_scales_volatility</code></a></li><li><a href="#StochasticIntegrals.to_dataframe"><code>StochasticIntegrals.to_dataframe</code></a></li></ul><h2 id="Blocking-and-Regularisation-Functions"><a class="docs-heading-anchor" href="#Blocking-and-Regularisation-Functions">Blocking and Regularisation Functions</a><a id="Blocking-and-Regularisation-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Blocking-and-Regularisation-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.put_assets_into_blocks_by_trading_frequency" href="#HighFrequencyCovariance.put_assets_into_blocks_by_trading_frequency"><code>HighFrequencyCovariance.put_assets_into_blocks_by_trading_frequency</code></a> — <span class="docstring-category">Function</span></header><section><div><p>This makes a dataframe that describes how to estimate the covariance matrix blockwise.</p><p><strong>Takes</strong></p><ul><li>ts::SortedDataFrame - The tick data.</li><li>obs<em>multiple</em>for<em>new</em>block::Real - The relative number of ticks to seperate a new block. For instance 1.2 means make a new block when some asset has 20% more observations than another in that block.</li><li>func::Symbol - A symbol representing the covariance estimation function to be used.</li><li>optional_parameters::NamedTuple - Optional parameters to be used in the func function.</li></ul><p><strong>Returns</strong></p><ul><li>A <code>DataFrame</code> representing what estimations should be performed. The order of rows in the <code>DataFrame</code> shows the order of estimation.</li></ul><p><strong>References</strong></p><p>Hautsch, N., Kyj, L.M. and Oomen, R.C.A. (2012), A blocking and regularization approach to high‐dimensional realized covariance estimation. J. Appl. Econ., 27: 625-645</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/40_Blocking.jl#L43-L55">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.blockwise_estimation" href="#HighFrequencyCovariance.blockwise_estimation"><code>HighFrequencyCovariance.blockwise_estimation</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Run a series of covariance estimations and combine the results. Two things should be input, a SortedDataFrame with the price update data and a dataframe describing what estimations should be performed. This should be of the same form as is output by put<em>assets</em>into<em>blocks</em>by<em>trading</em>frequency (although the actual estimations can be customised to something different as to what that function outputs).</p><p><strong>Takes</strong></p><ul><li>ts::SortedDataFrame - The tick data.</li><li>blocking<em>frame::DataFrame - A <code>DataFrame</code> representing what estimations to do and in what order. This is often be one generated by the `put</em>assets<em>into</em>blocks<em>by</em>trading_frequency` function (and potentially then modified).</li></ul><p><strong>Returns</strong></p><ul><li>A <code>CovarianceMatrix</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/40_Blocking.jl#L70-L81">source</a></section></article><h2 id="Monte-Carlo"><a class="docs-heading-anchor" href="#Monte-Carlo">Monte Carlo</a><a id="Monte-Carlo-1"></a><a class="docs-heading-anchor-permalink" href="#Monte-Carlo" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.generate_random_path" href="#HighFrequencyCovariance.generate_random_path"><code>HighFrequencyCovariance.generate_random_path</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Generate a random path of price updates with a specified number of dimensions and ticks. There are options for whether the data is syncronous or asyncronous, the volatility of the price processes, the refresh rate on the (exponential) arrival times of price updates, the minimum and the maximum microstructure noises.</p><p><strong>Takes</strong></p><ul><li>dimensions::Integer - The number of assets</li><li>ticks::Integer - The number of ticks to produce</li><li>syncronous::Bool - Should ticks be syncronous (for each asset) or asyncronous</li><li>twister::MersenneTwister - The MersenneTwister used for RNG.</li><li>minvol::Real - The minimum volatility in sampling (only used if vols is missing)</li><li>maxvol::Real - The maximum volatility in sampling (only used if vols is missing)</li><li>min<em>refresh</em>rate::Real - The minimum refresh rate in sampling</li><li>max<em>refresh</em>rate::Real - The maximum refresh rate in sampling</li><li>min<em>noise</em>var::Real  - The minimum assetwise microstructure noise variance</li><li>max<em>noise</em>var::Real  - The minimum assetwise microstructure noise variance</li><li>assets::Union{Vector,Missing} = missing</li><li>brownian<em>corr</em>matrix::Union{Hermitian,Missing} - The correlation matrix to use. This is sampled from the Inverse Wishart distribution if none is input.</li><li>vols::Union{Vector,Missing} - The correlation matrix to use. This is sampled from the Inverse Wishart distribution if none is input.</li></ul><p><strong>Returns</strong></p><ul><li>A <code>SortedDataFrame</code> of tick data</li><li>A CovarianceMatrix representing the true data generation process used in making the tick data</li><li>A dict of microstructure_noises for each asset.</li><li>A dict of update_rates for each asset.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/03_MonteCarlo.jl#L3-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StochasticIntegrals.ItoSet" href="#StochasticIntegrals.ItoSet"><code>StochasticIntegrals.ItoSet</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Convert a CovarianceMatrix into an ItoSet from the StochasticIntegrals package. This package can then be used to do things like generate draws from the Multivariate Gaussian corresponding to the covariance matrix and other things.</p><p><strong>Takes</strong></p><ul><li>covariance_matrix::CovarianceMatrix{&lt;:Real}</li></ul><p><strong>Returns</strong></p><ul><li>A <code>StochasticIntegrals.ItoSet</code> struct.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/03_MonteCarlo.jl#L55-L64">source</a></section></article><h2 id="For-getting-a-DataFrame-version-of-a-CovarianceMatrix-and-vice-versa."><a class="docs-heading-anchor" href="#For-getting-a-DataFrame-version-of-a-CovarianceMatrix-and-vice-versa.">For getting a DataFrame version of a CovarianceMatrix and vice versa.</a><a id="For-getting-a-DataFrame-version-of-a-CovarianceMatrix-and-vice-versa.-1"></a><a class="docs-heading-anchor-permalink" href="#For-getting-a-DataFrame-version-of-a-CovarianceMatrix-and-vice-versa." title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="StochasticIntegrals.to_dataframe" href="#StochasticIntegrals.to_dataframe"><code>StochasticIntegrals.to_dataframe</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Convert a CovarianceMatrix to a dataframe format.</p><p><strong>Takes</strong></p><ul><li>covar::CovarianceMatrix</li><li>othercols::Dict - This adds columns to the DataFrame. For instance if it is Dict{Symbol,String}([:pc] .=&gt; [&quot;Fred&#39;s PC&quot;]), then there will be a column indicating that this estimation was done on Fred&#39;s PC.</li><li>delete<em>duplicate</em>correlations::Bool - Should the unnecessary correlations be included (as correlation matrices are symmetric half the entries duplicate information).</li></ul><p><strong>Returns</strong></p><ul><li>A <code>DataFrame</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/04_Serialisation.jl#L3-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.dataframe_to_covariancematrix" href="#HighFrequencyCovariance.dataframe_to_covariancematrix"><code>HighFrequencyCovariance.dataframe_to_covariancematrix</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Convert a CovarianceMatrix to a dataframe format.</p><p><strong>Takes</strong></p><ul><li>dd::DataFrame - A <code>DataFrame</code> of the form generated by the <code>to_dataframe</code> function.</li></ul><p><strong>Returns</strong></p><ul><li>A <code>CovarianceMatrix</code> struct.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/04_Serialisation.jl#L28-L34">source</a></section></article><h2 id="Blocking-and-Regularisation-Functions-2"><a class="docs-heading-anchor" href="#Blocking-and-Regularisation-Functions-2">Blocking and Regularisation Functions</a><a class="docs-heading-anchor-permalink" href="#Blocking-and-Regularisation-Functions-2" title="Permalink"></a></h2><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>put_assets_into_blocks_by_trading_frequency</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>blockwise_estimation</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Internal-Functions-potentially-of-use-for-advanced-users"><a class="docs-heading-anchor" href="#Internal-Functions-potentially-of-use-for-advanced-users">Internal Functions potentially of use for advanced users</a><a id="Internal-Functions-potentially-of-use-for-advanced-users-1"></a><a class="docs-heading-anchor-permalink" href="#Internal-Functions-potentially-of-use-for-advanced-users" title="Permalink"></a></h2><h3 id="Metrics-for-distances-between-CovarianceMatrix-structs"><a class="docs-heading-anchor" href="#Metrics-for-distances-between-CovarianceMatrix-structs">Metrics for distances between CovarianceMatrix structs</a><a id="Metrics-for-distances-between-CovarianceMatrix-structs-1"></a><a class="docs-heading-anchor-permalink" href="#Metrics-for-distances-between-CovarianceMatrix-structs" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.calculate_mean_abs_distance" href="#HighFrequencyCovariance.calculate_mean_abs_distance"><code>HighFrequencyCovariance.calculate_mean_abs_distance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">calculate_mean_abs_distance(cov1::CovarianceMatrix, cov2::CovarianceMatrix)</code></pre><p>Calculates the mean absolute distance (elementwise in L1 norm) between two <code>CovarianceMatrix</code>s. Undefined if any labels differ between the two CovarianceMatrixs.</p><p><strong>Takes</strong></p><ul><li>cov1::CovarianceMatrix - The first <code>CovarianceMatrix</code></li><li>cov2::CovarianceMatrix - The second <code>CovarianceMatrix</code></li></ul><p><strong>Returns</strong></p><ul><li><p>An <code>Tuple</code> with the distance for correlations in first entry and distance for volatilities in the second.</p><p>calculate<em>mean</em>abs_distance(d1::Dict{Symbol,&lt;:Real}, d2::Dict{Symbol,&lt;:Real})</p></li></ul><p>Calculates the mean absolute distance (elementwise in L1 norm) between two <code>CovarianceMatrix</code>s.</p><p><strong>Takes</strong></p><ul><li>d1::Dict{Symbol,&lt;:Real} - The first <code>Dict</code></li><li>d2::Dict{Symbol,&lt;:Real} - The second <code>Dict</code></li></ul><p><strong>Returns</strong></p><ul><li><p>A scalar with the mean distance between matching elements.</p><p>calculate<em>mean</em>abs_distance(d1::Tuple{Dict{Symbol,&lt;:Real},Dict{Symbol,&lt;:Real}}, d2::Tuple{Dict{Symbol,&lt;:Real},Dict{Symbol,&lt;:Real}})</p></li></ul><p>Calculates the distance between the first element of d1 and first of d2. And second elements of each. Returns the Tuple.</p><p><strong>Takes</strong></p><ul><li>d1::Tuple{Dict{Symbol,&lt;:Real},Dict{Symbol,&lt;:Real}}</li><li>d2::Tuple{Dict{Symbol,&lt;:Real},Dict{Symbol,&lt;:Real}}</li></ul><p><strong>Returns</strong></p><ul><li>A <code>Tuple</code> with two scalars.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/00_Structs.jl#L140-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.squared_frobenius" href="#HighFrequencyCovariance.squared_frobenius"><code>HighFrequencyCovariance.squared_frobenius</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Rearrange the squared frobenius norm of a matrix. Returns a real.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/01_helpers.jl#L166-L168">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.squared_frobenius_distance" href="#HighFrequencyCovariance.squared_frobenius_distance"><code>HighFrequencyCovariance.squared_frobenius_distance</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Rearrange the squared frobenius distance between two matrices. Returns a real</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/01_helpers.jl#L160-L162">source</a></section></article><h3 id="Used-in-volatility-estimation-techniques"><a class="docs-heading-anchor" href="#Used-in-volatility-estimation-techniques">Used in volatility estimation techniques</a><a id="Used-in-volatility-estimation-techniques-1"></a><a class="docs-heading-anchor-permalink" href="#Used-in-volatility-estimation-techniques" title="Permalink"></a></h3><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>default_num_grids</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="Used-in-covariance-estimation-techniques"><a class="docs-heading-anchor" href="#Used-in-covariance-estimation-techniques">Used in covariance estimation techniques</a><a id="Used-in-covariance-estimation-techniques-1"></a><a class="docs-heading-anchor-permalink" href="#Used-in-covariance-estimation-techniques" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.get_all_refresh_times" href="#HighFrequencyCovariance.get_all_refresh_times"><code>HighFrequencyCovariance.get_all_refresh_times</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get a vector of all refresh times when all assets have an updated price. So if there are assets A and B that trade at times (1,5,6,7,10) and (2,5,7,9) then the refresh times are (2,5,7,10) as at these four times there are updated prices for all assets that have happened since the previous refresh time.</p><p><strong>Takes</strong></p><ul><li>ts::SortedDataFrame - The tick data.</li><li>assets::Vector{Symbol} - The assets of interest.</li><li>start_time::Real - From what time should we start looking for updated prices.</li></ul><p><strong>Returns</strong></p><ul><li>A <code>Vector</code> of refresh times.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/02_subsample_ticks.jl#L94-L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.latest_value" href="#HighFrequencyCovariance.latest_value"><code>HighFrequencyCovariance.latest_value</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get the latest price at a each input time.</p><p><strong>Takes</strong></p><ul><li>ts::SortedDataFrame - The tick data.</li><li>at_times::Vector{R} - The times you want the latest prices for.</li><li>assets::Vector{Symbol} - The assets you want latest prices for</li></ul><p><strong>Returns</strong></p><ul><li>A <code>DataFrame</code>. Rows are for each time specified in at_times. Columns are for each asset.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/02_subsample_ticks.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.time_between_refreshes" href="#HighFrequencyCovariance.time_between_refreshes"><code>HighFrequencyCovariance.time_between_refreshes</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get a DataFrame showing how many time is between each refresh and how many ticks in total.</p><p><strong>Takes</strong></p><ul><li>ts::SortedDataFrame - Tick data.</li><li>assets::Vector{Symbol} - A <code>Vector</code> of labels.</li></ul><p><strong>Returns</strong></p><ul><li>A <code>DataFrame</code> summarising the average number of time between ticks for each asset.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/01_helpers.jl#L176-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.random_value_in_interval" href="#HighFrequencyCovariance.random_value_in_interval"><code>HighFrequencyCovariance.random_value_in_interval</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Get a random value in an interval. So if you input times 1,7,8 then for the second entry it will pick a random update (if any exist) between times 1 and 7.</p><p><strong>Takes</strong></p><ul><li>ts::SortedDataFrame - The tick data.</li><li>at_times::Vector{R} - The times that seperate the intervals of interest.</li><li>assets::Vector{Symbol} - The assets of interest.</li><li>twister<em>arb</em>value<em>in</em>interval::MersenneTwister - The RNG used in selecting the random interval.</li></ul><p><strong>Returns</strong></p><ul><li>A <code>DataFrame</code> with prices for each asset from random ticks in each interval.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/02_subsample_ticks.jl#L53-L62">source</a></section></article><h3 id="Kernels-used-in-the-BNHLS-method"><a class="docs-heading-anchor" href="#Kernels-used-in-the-BNHLS-method">Kernels used in the BNHLS method</a><a id="Kernels-used-in-the-BNHLS-method-1"></a><a class="docs-heading-anchor-permalink" href="#Kernels-used-in-the-BNHLS-method" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.HFC_Kernel" href="#HighFrequencyCovariance.HFC_Kernel"><code>HighFrequencyCovariance.HFC_Kernel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A kernel used in the bnhls covariance method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/21_covariance_bnhls.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.parzen" href="#HighFrequencyCovariance.parzen"><code>HighFrequencyCovariance.parzen</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>A parzen kernel used in the bnhls covariance method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/21_covariance_bnhls.jl#L20-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.quadratic_spectral" href="#HighFrequencyCovariance.quadratic_spectral"><code>HighFrequencyCovariance.quadratic_spectral</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>A quadratic_spectral kernel used in the bnhls covariance method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/21_covariance_bnhls.jl#L25-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.fejer" href="#HighFrequencyCovariance.fejer"><code>HighFrequencyCovariance.fejer</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>A fejer kernel used in the bnhls covariance method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/21_covariance_bnhls.jl#L30-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.tukey_hanning" href="#HighFrequencyCovariance.tukey_hanning"><code>HighFrequencyCovariance.tukey_hanning</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>A tukey_hanning kernel used in the bnhls covariance method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/21_covariance_bnhls.jl#L35-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.bnhls_2008" href="#HighFrequencyCovariance.bnhls_2008"><code>HighFrequencyCovariance.bnhls_2008</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>A bnhls_2008 kernel used in the bnhls covariance method.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/21_covariance_bnhls.jl#L40-L42">source</a></section></article><h3 id="Used-in-nearest-correlation-regularisation"><a class="docs-heading-anchor" href="#Used-in-nearest-correlation-regularisation">Used in nearest correlation regularisation</a><a id="Used-in-nearest-correlation-regularisation-1"></a><a class="docs-heading-anchor-permalink" href="#Used-in-nearest-correlation-regularisation" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.project_to_S" href="#HighFrequencyCovariance.project_to_S"><code>HighFrequencyCovariance.project_to_S</code></a> — <span class="docstring-category">Function</span></header><section><div><p>This maps a matrix to the nearest psd matrix. W<em>root should be the principal square root of a psd Hermitian weighting matrix, W. W</em>inv_sqrt should be the corresponding square root of the inverse of W. Higham, N. J. 2001. Theorem 3.2</p><p><code>nearest_psd_matrix</code> is a simpler interface for this function however it does not allow weighting matrices to be specified.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/31_Regularisation_NearestCorrelationMatrix.jl#L37-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.project_to_U" href="#HighFrequencyCovariance.project_to_U"><code>HighFrequencyCovariance.project_to_U</code></a> — <span class="docstring-category">Function</span></header><section><div><p>This maps the Hermitian/Hermitian matrix A to the nearest matrix in the U space (the space of all unit diagonal matrices as defined by Higham 2001). The inverse weight matrix invW determines how much to adjust each element to get it to be unit diagonal. The weight matrix must be Hermitian positive definite. We use the W-norm (as defined by Higham 2001).</p><p><strong>References</strong></p><p>Higham, N. J. 2001. Bottom of page 335.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/31_Regularisation_NearestCorrelationMatrix.jl#L16-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="HighFrequencyCovariance.iterate_higham" href="#HighFrequencyCovariance.iterate_higham"><code>HighFrequencyCovariance.iterate_higham</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Do one iterate mapping the input matrix to the S space (of psd matrices) and then to the U space (unit diagonal and all other entries below 1 in absolute value). Returns the updated matrix and the next iterate&#39;s Dykstra correction. Higham, N. J. 2001. Algorithm 3.3</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/s-baumann/HighFrequencyCovariance.jl/blob/af080272eaeea02be32b192e08846272f5b00150/src/31_Regularisation_NearestCorrelationMatrix.jl#L55-L60">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../functions/">« Estimation Functions</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 2 August 2021 10:38">Monday 2 August 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
